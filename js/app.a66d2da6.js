(function(e){function t(t){for(var n,i,a=t[0],o=t[1],u=t[2],l=0,b=[];l<a.length;l++)i=a[l],Object.prototype.hasOwnProperty.call(c,i)&&c[i]&&b.push(c[i][0]),c[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);d&&d(t);while(b.length)b.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,a=1;a<r.length;a++){var o=r[a];0!==c[o]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},c={app:0},s=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/fit-records/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],o=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var d=o;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},"06db":function(e,t,r){},"08e8":function(e,t,r){},1764:function(e,t,r){},"1ed0":function(e,t,r){"use strict";r("7008")},2690:function(e,t,r){"use strict";r("08e8")},2715:function(e,t,r){},"33f8":function(e,t,r){},"39fa":function(e,t,r){e.exports=r.p+"img/undraw_empty.5d667ef2.svg"},"3ef8":function(e,t,r){},"4f34":function(e,t,r){"use strict";r("33f8")},7008:function(e,t,r){},"8dae":function(e,t,r){"use strict";r("2715")},aa85:function(e,t,r){"use strict";r("3ef8")},cd49:function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),c={id:"app-wrapper"};function s(e,t,r,s,i,a){var o=Object(n["A"])("router-view");return Object(n["s"])(),Object(n["g"])("div",c,[Object(n["j"])(o,{class:"drawer-content"},{default:Object(n["H"])((function(t){var r=t.Component;return[Object(n["j"])(n["b"],{name:e.transitionName},{default:Object(n["H"])((function(){return[(Object(n["s"])(),Object(n["e"])(Object(n["B"])(r)))]})),_:2},1032,["name"])]})),_:1})])}r("b0c0");var i=["xlink:href"],a=["xlink:href"],o={class:"home-content"},u={class:"content"},d=["onClick"],l={class:"train-set-content"},b={key:1},h=["src"],f={class:"bottom-toolbar"},p={class:"add-icon"},g=["xlink:href"];function j(e,t,c,s,j,O){var x=Object(n["A"])("router-link");return Object(n["s"])(),Object(n["g"])("section",null,[Object(n["h"])("header",null,[Object(n["h"])("div",{class:"switch-workout",onClick:t[0]||(t[0]=function(){return e.previousWorkout&&e.previousWorkout.apply(e,arguments)})},[(Object(n["s"])(),Object(n["g"])("svg",null,[Object(n["h"])("use",{"xlink:href":"".concat(r("d4d3"),"#back")},null,8,i)]))]),Object(n["h"])("h1",null,Object(n["D"])(e.getWorkoutDate()),1),Object(n["h"])("div",{class:"switch-workout",onClick:t[1]||(t[1]=function(){return e.nextWorkout&&e.nextWorkout.apply(e,arguments)})},[(Object(n["s"])(),Object(n["g"])("svg",null,[Object(n["h"])("use",{"xlink:href":"".concat(r("d4d3"),"#forward")},null,8,a)]))])]),Object(n["h"])("main",o,[Object(n["h"])("div",u,[e.exercises.length?(Object(n["s"])(!0),Object(n["g"])(n["a"],{key:0},Object(n["y"])(e.exercises,(function(t){return Object(n["s"])(),Object(n["g"])("div",{class:"exercise",key:t,onClick:function(r){return e.openTrainingSet(t.id)}},[Object(n["h"])("h2",null,Object(n["D"])(t.name),1),Object(n["h"])("ol",null,[(Object(n["s"])(!0),Object(n["g"])(n["a"],null,Object(n["y"])(e.trainingSets[t.id],(function(e){return Object(n["s"])(),Object(n["g"])("li",{class:"train-set",key:e},[Object(n["h"])("div",l,[Object(n["h"])("span",null,Object(n["D"])(e.reps)+" reps",1),Object(n["h"])("span",null,Object(n["D"])(e.weight)+" kg",1)])])})),128))])],8,d)})),128)):(Object(n["s"])(),Object(n["g"])("div",b,[Object(n["h"])("img",{class:"empty-log-image",alt:"Empty log",src:"".concat(r("39fa"))},null,8,h)]))])]),Object(n["h"])("nav",f,[Object(n["j"])(x,{to:"list"},{default:Object(n["H"])((function(){return[(Object(n["s"])(),Object(n["g"])("svg",p,[Object(n["h"])("use",{"xlink:href":"".concat(r("d4d3"),"#add")},null,8,g)]))]})),_:1})])])}var O=r("1da1"),x=(r("4de4"),r("d3b7"),r("d81d"),r("159b"),r("99af"),r("96cf"),r("3835")),m=r("bee2"),k=r("d4ec"),v=(r("aff5"),r("a9e3"),r("d9e2"),r("e9c4"),r("25f0"),r("5502")),w=function(){function e(t,r,n,c){Object(k["a"])(this,e),this.day=t,this.month=r,this.year=n,this.id=c}return Object(m["a"])(e,null,[{key:"getTimestamp",value:function(e){return new Date("".concat(e.year,"-").concat(e.month,"-").concat(e.day)).valueOf()}}]),e}(),y=r("262e"),S=r("2caf"),I=r("4dec"),R=Object(m["a"])((function e(t,r){Object(k["a"])(this,e),this.name=t,this.id=r})),E=function(e){Object(y["a"])(r,e);var t=Object(S["a"])(r);function r(){var e;return Object(k["a"])(this,r),e=t.call(this,"database"),navigator.storage&&navigator.storage.persist&&navigator.storage.persist(),e.version(1).stores({workouts:"++id, &[year+month+day]",trainingSets:"++id, [workoutId+exerciseId]",exercises:"++id, &name"}),e.version(3).stores({workouts:"++id, &[year+month+day]",trainingSets:"++id, [workoutId+exerciseId], [exerciseId+workoutId]",exercises:"++id, &name"}),e.version(12).stores({workouts:"++id, &[year+month+day]",trainingSets:"++id, [workoutId+exerciseId], [exerciseId+workoutId], timestamp",exercises:"++id, &name",records:"++id, &[exerciseId+reps]"}).upgrade(Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.trainingSets.toArray();case 2:r=t.sent,r.map((function(e){return e.timestamp=0})),e.trainingSets.bulkPut(r);case 5:case"end":return t.stop()}}),t)})))),e.workouts=e.table("workouts"),e.trainingSets=e.table("trainingSets"),e.exercises=e.table("exercises"),e.records=e.table("records"),e.initData().then(),e}return Object(m["a"])(r,[{key:"initData",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.exercises.count();case 2:if(e.t0=e.sent,0!==e.t0){e.next=10;break}this.exercises.add(new R("Deadlifts")),this.exercises.add(new R("Push Ups")),this.exercises.add(new R("Squats")),this.exercises.add(new R("Biceps Curls")),this.exercises.add(new R("Skullcrushers")),this.exercises.add(new R("Dumbbell Rows"));case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),r}(I["a"]),W=(r("0481"),r("4069"),Object(m["a"])((function e(t,r,n,c){Object(k["a"])(this,e),this.timestamp=t,this.exerciseId=r,this.reps=n,this.weight=c}))),T=function(){function e(t){Object(k["a"])(this,e),this.exercises=[],this.fromArray(t)}return Object(m["a"])(e,[{key:"fromArray",value:function(e){var t=this;e.forEach((function(e){t.exercises[e.exerciseId]||(t.exercises[e.exerciseId]=[]);var r=t.exercises[e.exerciseId];r[e.reps]||(r[e.reps]=e)}))}},{key:"toArray",value:function(){return this.exercises.flat(2)}},{key:"isRecord",value:function(e){return!this.exercises[e.exerciseId]||(!this.exercises[e.exerciseId][e.reps]||this.exercises[e.exerciseId][e.reps].weight>e.weight)}},{key:"appendAll",value:function(e){var t=this;e.forEach((function(e){return t.append(e)}))}},{key:"append",value:function(e){return!!this.isRecord(e)&&(this.exercises[e.exerciseId]||(this.exercises[e.exerciseId]=[]),this.exercises[e.exerciseId][e.reps]=new W(Date.now(),e.exerciseId,e.reps,e.weight),!0)}}]),e}(),_=Object(m["a"])((function e(){Object(k["a"])(this,e),this.db=new E})),A=Object(v["a"])({state:new _,mutations:{setSelectedWorkout:function(e,t){e.selectedWorkout=t}},actions:{getWorkout:function(e){return Object(O["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=new Date,t.t0=e,t.next=4,e.state.db.workouts.get({year:n.getFullYear(),month:n.getMonth()+1,day:n.getUTCDate()});case 4:if(t.t2=r=t.sent,t.t1=null!==t.t2,!t.t1){t.next=8;break}t.t1=void 0!==r;case 8:if(!t.t1){t.next=12;break}t.t3=r,t.next=13;break;case 12:t.t3=new w(n.getUTCDate(),n.getMonth()+1,n.getFullYear());case 13:return t.t4=t.t3,t.t0.commit.call(t.t0,"setSelectedWorkout",t.t4),t.abrupt("return",e.state.selectedWorkout);case 16:case"end":return t.stop()}}),t)})))()},getPreviousWorkout:function(e){var t=arguments,r=this;return Object(O["a"])(regeneratorRuntime.mark((function n(){var c,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return c=t.length>1&&void 0!==t[1]?t[1]:Number.MAX_SAFE_INTEGER,n.next=3,r.state.db.workouts.where("id").below(c).last();case 3:if(s=n.sent,s){n.next=6;break}throw new Error("Could not get prev workout");case 6:return e.commit("setSelectedWorkout",s),n.abrupt("return",s);case 8:case"end":return n.stop()}}),n)})))()},getNextWorkout:function(e,t){var r=this;return Object(O["a"])(regeneratorRuntime.mark((function n(){var c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,r.state.db.workouts.where("id").above(t).first();case 2:if(c=n.sent,c){n.next=5;break}return n.abrupt("return",e.dispatch("getWorkout"));case 5:return e.commit("setSelectedWorkout",c),n.abrupt("return",c);case 7:case"end":return n.stop()}}),n)})))()},saveSelectedWorkout:function(e){return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.state.selectedWorkout){t.next=4;break}return t.next=3,e.state.db.workouts.put(e.state.selectedWorkout);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()},getExercises:function(e,t){return void 0!==t?e.state.db.exercises.bulkGet(t):e.state.db.exercises.orderBy("name").toArray()},getExercise:function(e,t){return e.state.db.exercises.get(t)},setExercise:function(e,t){return e.state.db.exercises.put(JSON.parse(JSON.stringify(t)))},addTrainingSet:function(e,t){return e.state.db.trainingSets.put(t)},deleteTrainingSet:function(e,t){return e.state.db.trainingSets.delete(t)},getTrainingSets:function(e,t){var r=Object(x["a"])(t,2),n=r[0],c=r[1],s={};return c&&(s["exerciseId"]=c),n&&(s["workoutId"]=n),e.state.db.trainingSets.where(s).toArray()},getLastExerciseExecution:function(e,t){return Object(O["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="string"===typeof t?parseInt(t):t,e.next=3,A.state.db.trainingSets.where({exerciseId:t}).last();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))()},updateTrainingSet:function(e,t){return Object(O["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if("number"!==typeof t.id){r.next=5;break}return t=JSON.parse(JSON.stringify(t)),r.next=4,e.state.db.trainingSets.put(t);case 4:return r.abrupt("return",t);case 5:return r.abrupt("return",null);case 6:case"end":return r.stop()}}),r)})))()},getLastSet:function(e,t){return Object(O["a"])(regeneratorRuntime.mark((function r(){var n,c,s,i,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=Object(x["a"])(t,2),c=n[0],s=n[1],s||(s=Number.MAX_SAFE_INTEGER),r.next=4,e.state.db.trainingSets.where("exerciseId").equals(parseInt(c)).and((function(e){return e.workoutId<s})).last();case 4:if(i=r.sent,a=null===i||void 0===i?void 0:i.workoutId,a){r.next=8;break}return r.abrupt("return",[]);case 8:return r.abrupt("return",e.state.db.trainingSets.where({workoutId:a,exerciseId:parseInt(c)}).toArray());case 9:case"end":return r.stop()}}),r)})))()},buildRecords:function(e){return Object(O["a"])(regeneratorRuntime.mark((function t(){var r,n,c,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=parseInt(window.localStorage.getItem("records-timestamp")||"0"),t.t0=T,t.next=4,e.state.db.records.orderBy("exerciseId").toArray();case 4:if(t.t1=t.sent,t.t1){t.next=7;break}t.t1=[];case 7:return t.t2=t.t1,n=new t.t0(t.t2),t.next=11,A.dispatch("getWorkout");case 11:return c=t.sent,t.next=14,e.state.db.trainingSets.where("timestamp").between(r,w.getTimestamp(c)).toArray();case 14:return s=t.sent,n.appendAll(s),t.next=18,e.state.db.records.bulkPut(n.toArray());case 18:window.localStorage.setItem("records-timestamp",Date.now().toString());case 19:case"end":return t.stop()}}),t)})))()},getCurrentRecords:function(e){var t=arguments;return Object(O["a"])(regeneratorRuntime.mark((function r(){var n,c,s,i,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.length>1&&void 0!==t[1]?t[1]:-1,r.next=3,e.dispatch("getWorkout");case 3:if(c=r.sent,!(n>0)){r.next=13;break}return r.next=7,e.state.db.records.where("exerciseId").equals(n).toArray();case 7:if(r.t0=r.sent,r.t0){r.next=10;break}r.t0=[];case 10:s=r.t0,r.next=19;break;case 13:return r.next=15,e.state.db.records.orderBy("exerciseId").toArray();case 15:if(r.t1=r.sent,r.t1){r.next=18;break}r.t1=[];case 18:s=r.t1;case 19:if(a=new T(s),!c.id){r.next=25;break}return r.next=23,e.dispatch("getTrainingSets",[c.id,-1==n?null:n]);case 23:i=r.sent,a.appendAll(i);case 25:return r.abrupt("return",a.toArray());case 26:case"end":return r.stop()}}),r)})))()}}}),D=Object(n["k"])({name:"Home",components:{},data:function(){return{workout:{},exercises:[],trainingSets:[]}},beforeCreate:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,A.dispatch("getWorkout");case 2:if(e.workout=t.sent,e.workout.id){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,e.fetchExercises();case 7:case"end":return t.stop()}}),t)})))()},methods:{fetchExercises:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.workout.id){t.next=3;break}return e.exercises=[],t.abrupt("return");case 3:return t.next=5,A.dispatch("getTrainingSets",[e.workout.id,void 0]);case 5:return r=t.sent,t.next=8,A.dispatch("getExercises",r.map((function(e){return e.exerciseId})).filter((function(e,t,r){return r.indexOf(e)==t})));case 8:e.exercises=t.sent,e.exercises.forEach((function(t){e.trainingSets[t.id]=r.filter((function(e){return e.exerciseId===t.id}))}));case 10:case"end":return t.stop()}}),t)})))()},openTrainingSet:function(e){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.isTodaysWorkout()){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,t.$router.push({name:"Train",params:{exerciseId:e}});case 4:case"end":return r.stop()}}),r)})))()},nextWorkout:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,A.dispatch("getNextWorkout",e.workout.id);case 2:return e.workout=t.sent,t.next=5,e.fetchExercises();case 5:case"end":return t.stop()}}),t)})))()},previousWorkout:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,A.dispatch("getPreviousWorkout",e.workout.id);case 2:return e.workout=t.sent,t.next=5,e.fetchExercises();case 5:case"end":return t.stop()}}),t)})))()},getWorkoutDate:function(){return this.isTodaysWorkout()?"Today":"".concat(this.workout.day,".").concat(this.workout.month,".").concat(this.workout.year)},isTodaysWorkout:function(){var e=new Date;return this.workout.day==e.getUTCDate()&&this.workout.month==e.getMonth()+1&&this.workout.year==e.getFullYear()}}}),C=(r("4f34"),r("6b0d")),H=r.n(C);const N=H()(D,[["render",j],["__scopeId","data-v-8bc442ae"]]);var P=N,L=Object(n["k"])({components:{Home:P},data:function(){return{transitionName:""}},beforeCreate:function(){A.dispatch("buildRecords")},watch:{$route:function(e,t){1===e.meta.index&&0===t.meta.index?this.transitionName="up":0===e.meta.index?this.transitionName="down":this.transitionName=e.meta.index>t.meta.index?"next":"prev"}}});r("f257");const F=H()(L,[["render",s]]);var z=F,M=r("9483");Object(M["a"])("".concat("/fit-records/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var U=r("6c02"),J={class:"exercise-list"},V=Object(n["i"])("Exercises"),$={class:"content"},B={class:"search-bar"},q=["xlink:href"],G={key:1,class:"search-bar-icon"},Y=["xlink:href"],X={class:"add-icon"},K=["xlink:href"];function Q(e,t,c,s,i,a){var o=Object(n["A"])("Header"),u=Object(n["A"])("router-link");return Object(n["s"])(),Object(n["g"])("section",J,[Object(n["j"])(o,{close:"/"},{default:Object(n["H"])((function(){return[V]})),_:1}),Object(n["h"])("main",null,[Object(n["h"])("div",$,[Object(n["h"])("div",B,[Object(n["h"])("label",null,[Object(n["I"])(Object(n["h"])("input",{placeholder:"Search...","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.searchString=t}),type:"text"},null,512),[[n["F"],e.searchString,void 0,{trim:!0}]]),e.searchString.length>0?(Object(n["s"])(),Object(n["g"])("svg",{key:0,class:"search-bar-icon",onClick:t[1]||(t[1]=function(t){return e.searchString=""})},[Object(n["h"])("use",{"xlink:href":"".concat(r("d4d3"),"#close")},null,8,q)])):(Object(n["s"])(),Object(n["g"])("svg",G,[Object(n["h"])("use",{"xlink:href":"".concat(r("d4d3"),"#search")},null,8,Y)]))]),Object(n["j"])(u,{class:"add-exercise",to:{name:"Exercise",params:{exerciseId:null}}},{default:Object(n["H"])((function(){return[(Object(n["s"])(),Object(n["g"])("svg",X,[Object(n["h"])("use",{"xlink:href":"".concat(r("d4d3"),"#add")},null,8,K)]))]})),_:1})]),Object(n["h"])("ul",null,[(Object(n["s"])(!0),Object(n["g"])(n["a"],null,Object(n["y"])(e.filteredExercises,(function(e){return Object(n["s"])(),Object(n["g"])("li",{key:e},[Object(n["j"])(u,{to:{name:"Train",params:{exerciseId:e.id}}},{default:Object(n["H"])((function(){return[Object(n["i"])(Object(n["D"])(e.name),1)]})),_:2},1032,["to"])])})),128))])])])])}r("caad"),r("2532");var Z={class:"header"},ee={class:"icon back-icon"},te=["xlink:href"],re={class:"icon close-icon"},ne=["xlink:href"];function ce(e,t,c,s,i,a){var o=Object(n["A"])("router-link");return Object(n["s"])(),Object(n["g"])("div",Z,[e.back?(Object(n["s"])(),Object(n["e"])(o,{key:0,to:e.back},{default:Object(n["H"])((function(){return[(Object(n["s"])(),Object(n["g"])("svg",ee,[Object(n["h"])("use",{"xlink:href":"".concat(r("d4d3"),"#back")},null,8,te)]))]})),_:1},8,["to"])):Object(n["f"])("",!0),Object(n["h"])("h1",null,[Object(n["z"])(e.$slots,"default",{},void 0,!0)]),e.close?(Object(n["s"])(),Object(n["e"])(o,{key:1,to:e.close},{default:Object(n["H"])((function(){return[(Object(n["s"])(),Object(n["g"])("svg",re,[Object(n["h"])("use",{"xlink:href":"".concat(r("d4d3"),"#close")},null,8,ne)]))]})),_:1},8,["to"])):Object(n["f"])("",!0)])}var se=Object(n["k"])({name:"Header",props:{title:String,back:[Object,String],close:String}});r("fd59");const ie=H()(se,[["render",ce],["__scopeId","data-v-3dc7d5bd"]]);var ae=ie,oe=Object(n["k"])({name:"ExerciseList",components:{Header:ae},beforeCreate:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,A.dispatch("getExercises");case 2:e.exercises=t.sent;case 3:case"end":return t.stop()}}),t)})))()},data:function(){return{exercises:[],searchString:""}},computed:{filteredExercises:function(){var e=this;return this.exercises.filter((function(t){return t.name.includes(e.searchString)}))}}});r("1ed0");const ue=H()(oe,[["render",Q],["__scopeId","data-v-24f5c962"]]);var de=ue,le={class:"train-wrapper"},be=Object(n["i"])("Train hard!"),he={class:"content"},fe={class:"icons"},pe={class:"icon"},ge=["xlink:href"],je={class:"icon"},Oe=["xlink:href"],xe={key:0,class:"sub-heading"},me={class:"already-finished-reps"},ke={key:0,class:"train-sets-headline"},ve={class:"train-set-content"},we=["onClick"],ye=["xlink:href"],Se={class:"last-set-done"},Ie={key:0,class:"train-sets-headline"},Re={class:"train-set-content"};function Ee(e,t,c,s,i,a){var o=Object(n["A"])("Header"),u=Object(n["A"])("router-link"),d=Object(n["A"])("Slider");return Object(n["s"])(),Object(n["g"])("section",le,[Object(n["j"])(o,{back:"list",close:"/"},{default:Object(n["H"])((function(){return[be]})),_:1}),Object(n["h"])("main",null,[Object(n["h"])("div",he,[Object(n["h"])("h1",null,[Object(n["h"])("span",null,Object(n["D"])(e.exercise.name),1),Object(n["h"])("span",fe,[Object(n["j"])(u,{to:{name:"Exercise",params:{exerciseId:e.exercise.id,back:JSON.stringify({name:"Train",params:{exerciseId:e.exercise.id}})}}},{default:Object(n["H"])((function(){return[(Object(n["s"])(),Object(n["g"])("svg",pe,[Object(n["h"])("use",{"xlink:href":"".concat(r("d4d3"),"#edit")},null,8,ge)]))]})),_:1},8,["to"]),Object(n["j"])(u,{to:{name:"Records",params:{exerciseId:e.exercise.id}}},{default:Object(n["H"])((function(){return[(Object(n["s"])(),Object(n["g"])("svg",je,[Object(n["h"])("use",{"xlink:href":"".concat(r("d4d3"),"#trophy")},null,8,Oe)]))]})),_:1},8,["to"])])]),e.editing>-1?(Object(n["s"])(),Object(n["g"])("h4",xe,"editing set no. "+Object(n["D"])(e.editing+1),1)):Object(n["f"])("",!0),Object(n["j"])(d,{class:"slider","model-value":e.reps,"onUpdate:model-value":t[0]||(t[0]=function(t){return e.reps=t}),unit:"reps"},null,8,["model-value"]),Object(n["j"])(d,{class:"slider","model-value":e.weight,"onUpdate:model-value":t[1]||(t[1]=function(t){return e.weight=t}),delta:2.5},null,8,["model-value","delta"]),Object(n["h"])("button",{class:"btn",onClick:t[2]||(t[2]=function(){return e.addTrainingSet&&e.addTrainingSet.apply(e,arguments)})},"Done"),e.editing>-1?(Object(n["s"])(),Object(n["g"])("button",{key:1,class:"btn btn-delete",onClick:t[3]||(t[3]=function(){return e.deleteSet&&e.deleteSet.apply(e,arguments)})},"Delete")):Object(n["f"])("",!0),Object(n["h"])("div",me,[e.trainingSets.length?(Object(n["s"])(),Object(n["g"])("h2",ke,"Already finished")):Object(n["f"])("",!0),Object(n["h"])("ol",null,[(Object(n["s"])(!0),Object(n["g"])(n["a"],null,Object(n["y"])(e.trainingSets,(function(t,c){return Object(n["s"])(),Object(n["g"])("li",{key:t},[Object(n["h"])("div",ve,[Object(n["h"])("span",null,Object(n["D"])(t.reps)+" reps",1),Object(n["h"])("span",null,Object(n["D"])(t.weight)+" kg",1),Object(n["h"])("span",null,[(Object(n["s"])(),Object(n["g"])("svg",{class:"icon",onClick:function(t){return e.editSet(c)}},[Object(n["h"])("use",{"xlink:href":"".concat(r("d4d3"),"#edit")},null,8,ye)],8,we))])])])})),128))])]),Object(n["h"])("div",Se,[e.lastSet.length?(Object(n["s"])(),Object(n["g"])("h2",Ie,"Last set done")):Object(n["f"])("",!0),Object(n["h"])("ol",null,[(Object(n["s"])(!0),Object(n["g"])(n["a"],null,Object(n["y"])(e.lastSet,(function(e){return Object(n["s"])(),Object(n["g"])("li",{key:e},[Object(n["h"])("div",Re,[Object(n["h"])("span",null,Object(n["D"])(e.reps)+" reps",1),Object(n["h"])("span",null,Object(n["D"])(e.weight)+" kg",1)])])})),128))])])])])])}var We={class:"container"},Te={class:"input-wrapper"},_e={class:"input"},Ae={ref:"shadow",class:"shadow-width"},De={class:"unit"};function Ce(e,t,r,c,s,i){return Object(n["s"])(),Object(n["g"])("div",We,[Object(n["h"])("button",{onClick:t[0]||(t[0]=function(){return e.decrement&&e.decrement.apply(e,arguments)})},"-"),Object(n["h"])("div",Te,[Object(n["h"])("div",_e,[Object(n["I"])(Object(n["h"])("input",{ref:"number-input",type:"number","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.value=t}),size:"4",maxlength:"4",onKeyup:t[2]||(t[2]=function(){return e.resize&&e.resize.apply(e,arguments)})},null,544),[[n["F"],e.value,void 0,{number:!0}]]),Object(n["h"])("span",Ae,null,512),Object(n["h"])("span",De,Object(n["D"])(e.unit),1)])]),Object(n["h"])("button",{onClick:t[3]||(t[3]=function(){return e.increment&&e.increment.apply(e,arguments)})},"+")])}var He=Object(n["k"])({name:"Slider",props:{unit:{type:String,default:"kg"},delta:{type:Number,default:1},modelValue:{type:Number,default:0}},data:function(){return{value:0}},mounted:function(){this.value=this.modelValue,this.resize()},methods:{resize:function(){var e=this.$refs.shadow,t=this.$refs["number-input"];e.innerText=this.value.toString(),t.style.width="".concat(e.clientWidth,"px")},increment:function(){this.value+=this.delta,this.resize()},decrement:function(){this.value-=this.delta,this.resize()}},watch:{modelValue:function(e){this.value=parseFloat(e),this.resize()},value:function(e){this.value?this.value=parseFloat(String(e)):this.value=0,this.$refs["number-input"].value=String(this.value),this.$emit("update:modelValue",this.value)}}});r("2690");const Ne=H()(He,[["render",Ce],["__scopeId","data-v-fa244e1e"]]);var Pe=Ne,Le=Object(m["a"])((function e(t,r,n,c,s,i){Object(k["a"])(this,e),this.workoutId=t,this.exerciseId=r,this.reps=n,this.weight=c,this.timestamp=s,this.id=i})),Fe=Object(n["k"])({name:"Train",components:{Slider:Pe,Header:ae},props:{exerciseId:{type:String,default:null}},data:function(){return{exercise:{},reps:10,weight:20,todaysWorkout:{},trainingSets:[],lastSet:[],editing:-1}},methods:{addTrainingSet:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.todaysWorkout.id){t.next=7;break}if(!A.state.selectedWorkout||A.state.selectedWorkout.id){t.next=7;break}return t.next=4,A.dispatch("saveSelectedWorkout");case 4:return t.next=6,A.dispatch("getWorkout");case 6:e.todaysWorkout=t.sent;case 7:if(!(e.editing>-1)){t.next=11;break}return t.next=10,e.editTrainingSet();case 10:return t.abrupt("return");case 11:return r=new Le(e.todaysWorkout.id,e.exercise.id,e.reps,e.weight,Date.now()),t.next=14,A.dispatch("addTrainingSet",r);case 14:return t.next=16,e.refreshList();case 16:case"end":return t.stop()}}),t)})))()},deleteSet:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(-1!==e.editing){t.next=4;break}return t.next=3,e.editTrainingSet();case 3:return t.abrupt("return");case 4:return t.next=6,A.dispatch("deleteTrainingSet",e.trainingSets[e.editing].id);case 6:return e.editing=-1,t.next=9,e.refreshList();case 9:case"end":return t.stop()}}),t)})))()},refreshList:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,A.dispatch("getTrainingSets",[e.todaysWorkout.id,e.exercise.id]);case 2:return e.trainingSets=t.sent,t.next=5,e.getLastExecutionParameters();case 5:case"end":return t.stop()}}),t)})))()},getLastExecutionParameters:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r,n,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,A.dispatch("getLastExerciseExecution",e.exercise.id);case 2:c=t.sent,e.reps=null!==(r=null===c||void 0===c?void 0:c.reps)&&void 0!==r?r:12,e.weight=null!==(n=null===c||void 0===c?void 0:c.weight)&&void 0!==n?n:30;case 5:case"end":return t.stop()}}),t)})))()},editSet:function(e){this.editing=e;var t=this.trainingSets[this.editing];this.weight=t.weight,this.reps=t.reps},editTrainingSet:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.trainingSets[e.editing],r.reps=e.reps,r.weight=e.weight,e.trainingSets[e.editing]=r,t.next=6,A.dispatch("updateTrainingSet",r);case 6:e.editing=-1;case 7:case"end":return t.stop()}}),t)})))()}},beforeCreate:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,A.dispatch("getExercise",parseInt(e.exerciseId));case 2:return e.exercise=t.sent,t.next=5,A.dispatch("getWorkout");case 5:return e.todaysWorkout=t.sent,t.next=8,e.getLastExecutionParameters();case 8:return t.next=10,A.dispatch("getLastSet",[e.exerciseId,e.todaysWorkout.id]);case 10:if(e.lastSet=t.sent,!e.todaysWorkout.id){t.next=15;break}return t.next=14,A.dispatch("getTrainingSets",[e.todaysWorkout.id,e.exercise.id]);case 14:e.trainingSets=t.sent;case 15:case"end":return t.stop()}}),t)})))()}});r("aa85");const ze=H()(Fe,[["render",Ee],["__scopeId","data-v-7e4756c0"]]);var Me=ze,Ue=Object(n["i"])("Exercises"),Je={class:"content"},Ve={key:0},$e={key:1},Be=Object(n["i"])(" Name: ");function qe(e,t,r,c,s,i){var a=Object(n["A"])("Header");return Object(n["s"])(),Object(n["g"])("section",null,[Object(n["j"])(a,{back:e.backRoute,close:"/"},{default:Object(n["H"])((function(){return[Ue]})),_:1},8,["back"]),Object(n["h"])("main",null,[Object(n["h"])("div",Je,[e.exercise.id?(Object(n["s"])(),Object(n["g"])("h1",$e,"Edit Exercise")):(Object(n["s"])(),Object(n["g"])("h1",Ve,"Add new Exercise")),Object(n["h"])("label",null,[Be,Object(n["I"])(Object(n["h"])("input",{type:"text",placeholder:"New Exercise","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.exercise.name=t})},null,512),[[n["F"],e.exercise.name]])]),Object(n["h"])("button",{class:"btn",onClick:t[1]||(t[1]=function(){return e.save&&e.save.apply(e,arguments)})},"Save")])])])}var Ge=Object(n["k"])({name:"Exercise",components:{Header:ae},props:{back:{type:String},exerciseId:{type:String,default:null}},data:function(){return{exercise:new R(""),backRoute:"list"}},methods:{save:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.dispatch("setExercise",e.exercise);case 3:e.exercise.id=t.sent,t.next=8;break;case 6:t.prev=6,t.t0=t["catch"](0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})))()}},beforeCreate:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.exerciseId){t.next=4;break}return t.next=3,A.dispatch("getExercise",parseInt(e.exerciseId));case 3:e.exercise=t.sent;case 4:e.back?e.backRoute=JSON.parse(e.back):e.backRoute="list";case 5:case"end":return t.stop()}}),t)})))()}});const Ye=H()(Ge,[["render",qe]]);var Xe=Ye,Ke=Object(n["i"])("Records"),Qe={class:"content"},Ze={key:0},et={key:1};function tt(e,t,r,c,s,i){var a=Object(n["A"])("Header");return Object(n["s"])(),Object(n["g"])("section",null,[Object(n["j"])(a,{back:{name:"Train",params:{exerciseId:e.exerciseId}},close:"/"},{default:Object(n["H"])((function(){return[Ke]})),_:1},8,["back"]),Object(n["h"])("main",null,[Object(n["h"])("div",Qe,[Object(n["h"])("h1",null,"Records for "+Object(n["D"])(e.exercise.name),1),e.records.length>0?(Object(n["s"])(),Object(n["g"])("ul",Ze,[(Object(n["s"])(!0),Object(n["g"])(n["a"],null,Object(n["y"])(e.records,(function(e){return Object(n["s"])(),Object(n["g"])("li",{key:e},[Object(n["h"])("span",null,Object(n["D"])(e.reps)+" reps",1),Object(n["h"])("span",null,Object(n["D"])(e.weight)+" kg",1)])})),128))])):(Object(n["s"])(),Object(n["g"])("div",et,"No records recorded, keep going!"))])])])}var rt=Object(n["k"])({components:{Header:ae},name:"Records",props:{exerciseId:{type:String,default:null}},data:function(){return{exercise:{},records:T}},beforeCreate:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,A.dispatch("getCurrentRecords",parseInt(e.exerciseId));case 2:return e.records=t.sent,t.next=5,A.dispatch("getExercise",parseInt(e.exerciseId));case 5:e.exercise=t.sent;case 6:case"end":return t.stop()}}),t)})))()}});r("8dae");const nt=H()(rt,[["render",tt],["__scopeId","data-v-7bb1ff5c"]]);var ct=nt,st=[{path:"/",name:"Home",component:P,meta:{index:0}},{path:"/list",name:"ExerciseList",component:de,meta:{index:1}},{path:"/train",name:"Train",component:Me,props:!0,meta:{index:2}},{path:"/exercise",name:"Exercise",component:Xe,props:!0,meta:{index:3}},{path:"/records",name:"Records",component:ct,props:!0,meta:{index:4}}],it=Object(U["b"])({history:Object(U["a"])(),routes:st}),at=it;Object(n["d"])(z).use(A).use(at).mount("#app")},d4d3:function(e,t,r){e.exports=r.p+"img/icons.cfa9dd56.svg"},f257:function(e,t,r){"use strict";r("1764")},fd59:function(e,t,r){"use strict";r("06db")}});
//# sourceMappingURL=app.a66d2da6.js.map